
//------------------------------------------------------------------------------
// This code was generated by a tool.
//
//   Tool : Bond Compiler 0.8.0.0
//   Input filename:  ../idl/bond/core/bond.bond
//   Output filename: TypeDef.java
//
// Changes to this file may cause incorrect behavior and will be lost when
// the code is regenerated.
// <auto-generated />
//------------------------------------------------------------------------------

package com.microsoft.bond;


@javax.annotation.Generated("gbc")
public class TypeDef implements com.microsoft.bond.BondSerializable {

    public static final com.microsoft.bond.SchemaDef SCHEMA = new com.microsoft.bond.SchemaDef();
    public static final com.microsoft.bond.StructDef STRUCT_DEF = new com.microsoft.bond.StructDef();
    private static final com.microsoft.bond.FieldDef id_FIELD_DEF = new com.microsoft.bond.FieldDef();
    private static final com.microsoft.bond.FieldDef struct_def_FIELD_DEF = new com.microsoft.bond.FieldDef();
    private static final com.microsoft.bond.FieldDef element_FIELD_DEF = new com.microsoft.bond.FieldDef();
    private static final com.microsoft.bond.FieldDef key_FIELD_DEF = new com.microsoft.bond.FieldDef();
    private static final com.microsoft.bond.FieldDef bonded_type_FIELD_DEF = new com.microsoft.bond.FieldDef();
    private static boolean schemaInitialized = false;

    public static synchronized void initSchema() {
        if (schemaInitialized) { return; }

        SCHEMA.root.id = com.microsoft.bond.BondDataType.BT_STRUCT;
        SCHEMA.root.struct_def = 0;
        SCHEMA.root.element = null;
        SCHEMA.root.key = null;
        SCHEMA.root.bonded_type = false;

        STRUCT_DEF.metadata.name = "TypeDef";
        STRUCT_DEF.metadata.qualified_name = "com.microsoft.bond.TypeDef";
        STRUCT_DEF.metadata.modifier = com.microsoft.bond.Modifier.Optional;
        
        // TODO: .base_def
        SCHEMA.structs.add(0, STRUCT_DEF);

        id_FIELD_DEF.metadata.name = "id";
        id_FIELD_DEF.metadata.qualified_name = "";
        // TODO: .metadata.qualifier
        
        id_FIELD_DEF.id = 0;
        id_FIELD_DEF.type.id = com.microsoft.bond.BondDataType.BT_INT32;
        id_FIELD_DEF.type.struct_def = 0;
        id_FIELD_DEF.type.element = null;
        id_FIELD_DEF.type.key = null;
        id_FIELD_DEF.type.bonded_type = false;
        STRUCT_DEF.fields.add(id_FIELD_DEF);

        struct_def_FIELD_DEF.metadata.name = "struct_def";
        struct_def_FIELD_DEF.metadata.qualified_name = "";
        // TODO: .metadata.qualifier
        
        struct_def_FIELD_DEF.id = 1;
        struct_def_FIELD_DEF.type.id = com.microsoft.bond.BondDataType.BT_UINT16;
        struct_def_FIELD_DEF.type.struct_def = 0;
        struct_def_FIELD_DEF.type.element = null;
        struct_def_FIELD_DEF.type.key = null;
        struct_def_FIELD_DEF.type.bonded_type = false;
        STRUCT_DEF.fields.add(struct_def_FIELD_DEF);

        element_FIELD_DEF.metadata.name = "element";
        element_FIELD_DEF.metadata.qualified_name = "";
        // TODO: .metadata.qualifier
        
        element_FIELD_DEF.id = 2;
        element_FIELD_DEF.type.id = com.microsoft.bond.BondDataType.BT_LIST;
        element_FIELD_DEF.type.struct_def = 0;
        element_FIELD_DEF.type.element = new com.microsoft.bond.TypeDef();
        element_FIELD_DEF.type.element.id = com.microsoft.bond.BondDataType.BT_STRUCT;
        element_FIELD_DEF.type.element.struct_def = 0;
        element_FIELD_DEF.type.element.element = null;
        element_FIELD_DEF.type.element.key = null;
        element_FIELD_DEF.type.element.bonded_type = false;
        element_FIELD_DEF.type.key = null;
        element_FIELD_DEF.type.bonded_type = false;
        STRUCT_DEF.fields.add(element_FIELD_DEF);

        key_FIELD_DEF.metadata.name = "key";
        key_FIELD_DEF.metadata.qualified_name = "";
        // TODO: .metadata.qualifier
        
        key_FIELD_DEF.id = 3;
        key_FIELD_DEF.type.id = com.microsoft.bond.BondDataType.BT_LIST;
        key_FIELD_DEF.type.struct_def = 0;
        key_FIELD_DEF.type.element = new com.microsoft.bond.TypeDef();
        key_FIELD_DEF.type.element.id = com.microsoft.bond.BondDataType.BT_STRUCT;
        key_FIELD_DEF.type.element.struct_def = 0;
        key_FIELD_DEF.type.element.element = null;
        key_FIELD_DEF.type.element.key = null;
        key_FIELD_DEF.type.element.bonded_type = false;
        key_FIELD_DEF.type.key = null;
        key_FIELD_DEF.type.bonded_type = false;
        STRUCT_DEF.fields.add(key_FIELD_DEF);

        bonded_type_FIELD_DEF.metadata.name = "bonded_type";
        bonded_type_FIELD_DEF.metadata.qualified_name = "";
        // TODO: .metadata.qualifier
        
        bonded_type_FIELD_DEF.id = 4;
        bonded_type_FIELD_DEF.type.id = com.microsoft.bond.BondDataType.BT_BOOL;
        bonded_type_FIELD_DEF.type.struct_def = 0;
        bonded_type_FIELD_DEF.type.element = null;
        bonded_type_FIELD_DEF.type.key = null;
        bonded_type_FIELD_DEF.type.bonded_type = false;
        STRUCT_DEF.fields.add(bonded_type_FIELD_DEF);

        schemaInitialized = true;
    }

    public static com.microsoft.bond.SchemaDef getSchema() {
        initSchema();
        return SCHEMA;
    }

    public static com.microsoft.bond.StructDef getStructDef() {
        initSchema();
        return STRUCT_DEF;
    }
    

    private final com.microsoft.bond.protocol.TaggedProtocolReader.ReadFieldResult __readFieldResult = new com.microsoft.bond.protocol.TaggedProtocolReader.ReadFieldResult();
    private final com.microsoft.bond.protocol.TaggedProtocolReader.ReadContainerResult __readContainerResult = new com.microsoft.bond.protocol.TaggedProtocolReader.ReadContainerResult();

    public BondDataType id = BondDataType.BT_STRUCT;

    public short struct_def = 0;

    public TypeDef element = null;

    public TypeDef key = null;

    public boolean bonded_type = false;

    @Override
    public void serialize(com.microsoft.bond.protocol.ProtocolWriter writer) throws java.io.IOException {
        initSchema();

        writer.writeStructBegin(SCHEMA.structs.get(0).metadata);
        
        writer.writeFieldBegin(com.microsoft.bond.BondDataType.BT_INT32, 0, id_FIELD_DEF.metadata);
        writer.writeInt32(this.id.value);
        writer.writeFieldEnd();
        
        writer.writeFieldBegin(com.microsoft.bond.BondDataType.BT_UINT16, 1, struct_def_FIELD_DEF.metadata);
        writer.writeUInt16(this.struct_def);
        writer.writeFieldEnd();
        
        writer.writeFieldBegin(com.microsoft.bond.BondDataType.BT_LIST, 2, element_FIELD_DEF.metadata);
        if (this.element == null) {
            writer.writeContainerBegin(0, com.microsoft.bond.BondDataType.BT_STRUCT);
        } else {
            writer.writeContainerBegin(1, com.microsoft.bond.BondDataType.BT_STRUCT);
            this.element.serialize(writer);
        }
        writer.writeContainerEnd();
        writer.writeFieldEnd();
        
        writer.writeFieldBegin(com.microsoft.bond.BondDataType.BT_LIST, 3, key_FIELD_DEF.metadata);
        if (this.key == null) {
            writer.writeContainerBegin(0, com.microsoft.bond.BondDataType.BT_STRUCT);
        } else {
            writer.writeContainerBegin(1, com.microsoft.bond.BondDataType.BT_STRUCT);
            this.key.serialize(writer);
        }
        writer.writeContainerEnd();
        writer.writeFieldEnd();
        
        writer.writeFieldBegin(com.microsoft.bond.BondDataType.BT_BOOL, 4, bonded_type_FIELD_DEF.metadata);
        writer.writeBool(this.bonded_type);
        writer.writeFieldEnd();
        
        writer.writeStructEnd();
    }

    @Override
    public void deserialize(com.microsoft.bond.protocol.TaggedProtocolReader reader) throws java.io.IOException {
        initSchema();

        reader.readStructBegin();
        
        reader.readFieldBegin(this.__readFieldResult);
        this.id = new BondDataType(reader.readInt32());
        reader.readFieldEnd();
        
        reader.readFieldBegin(this.__readFieldResult);
        this.struct_def = reader.readUInt16();
        reader.readFieldEnd();
        
        reader.readFieldBegin(this.__readFieldResult);
        reader.readListBegin(this.__readContainerResult);
        if (this.__readContainerResult.count == 0) {
            this.element = null;
        } else {
            this.element = new TypeDef(); this.element.deserialize(reader);
        }
        reader.readContainerEnd();
        reader.readFieldEnd();
        
        reader.readFieldBegin(this.__readFieldResult);
        reader.readListBegin(this.__readContainerResult);
        if (this.__readContainerResult.count == 0) {
            this.key = null;
        } else {
            this.key = new TypeDef(); this.key.deserialize(reader);
        }
        reader.readContainerEnd();
        reader.readFieldEnd();
        
        reader.readFieldBegin(this.__readFieldResult);
        this.bonded_type = reader.readBool();
        reader.readFieldEnd();
        
        reader.readStructEnd();
    }

    @Override
    public void marshal(com.microsoft.bond.protocol.ProtocolWriter writer) throws java.io.IOException {
        writer.writeVersion();
        serialize(writer);
    }
}
